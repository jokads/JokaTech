import{a as j,r as i,j as e,L as v}from"./index-C0IYKngZ.js";import{s as u}from"./supabase-CP4O_hkS.js";import{N,F as y}from"./Footer-BDjK8bl0.js";function I(){const c=j(),[s,p]=i.useState(!0),[g,x]=i.useState(!1),[l,r]=i.useState(""),[a,h]=i.useState({email:"",password:"",name:""}),b=[{email:"damasclaudio2@gmail.com",password:"ThugParadise616#"},{email:"marianapesimoes@gmail.com",password:"MariaSol2004#"}],d=o=>{h({...a,[o.target.name]:o.target.value})},w=()=>b.find(t=>t.email===a.email&&t.password===a.password)?(localStorage.setItem("isAdmin","true"),localStorage.setItem("adminEmail",a.email),localStorage.setItem("userLoggedIn","true"),localStorage.setItem("userEmail",a.email),window.dispatchEvent(new Event("authChange")),window.dispatchEvent(new Event("storage")),c("/dashboard"),!0):!1,f=async o=>{o.preventDefault(),x(!0),r("");try{if(s){if(w())return;const{data:t,error:n}=await u.auth.signInWithPassword({email:a.email,password:a.password});if(n)throw n;localStorage.setItem("userLoggedIn","true"),localStorage.setItem("userEmail",a.email),window.dispatchEvent(new Event("authChange")),window.dispatchEvent(new Event("storage")),r("Login realizado com sucesso!"),setTimeout(()=>c("/"),1500)}else{const{data:t,error:n}=await u.auth.signUp({email:a.email,password:a.password,options:{data:{name:a.name},emailRedirectTo:`${window.location.origin}/`}});if(n)throw n;localStorage.setItem("userLoggedIn","true"),localStorage.setItem("userEmail",a.email),window.dispatchEvent(new Event("authChange")),window.dispatchEvent(new Event("storage")),r("Conta criada com sucesso! Redirecionando..."),setTimeout(()=>c("/"),1500)}}catch(t){r(t.message||"Erro ao processar. Tente novamente.")}finally{x(!1)}},m=async o=>{try{const{error:t}=await u.auth.signInWithOAuth({provider:o,options:{redirectTo:`${window.location.origin}/`}});if(t)throw t;localStorage.setItem("userLoggedIn","true"),window.dispatchEvent(new Event("authChange"))}catch(t){r(t.message||"Erro ao fazer login social")}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(N,{}),e.jsx("div",{className:"pt-24 pb-20",children:e.jsx("div",{className:"max-w-md mx-auto px-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-black text-center mb-8",children:s?"LOGIN":"CRIAR CONTA"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("button",{onClick:()=>m("google"),className:"w-full px-6 py-3 bg-white border-2 border-gray-300 rounded-lg font-semibold text-black hover:border-gold transition-colors cursor-pointer flex items-center justify-center space-x-3",children:[e.jsx("i",{className:"ri-google-fill text-xl text-red-500"}),e.jsx("span",{children:"Continuar com Google"})]}),e.jsxs("button",{onClick:()=>m("facebook"),className:"w-full px-6 py-3 bg-white border-2 border-gray-300 rounded-lg font-semibold text-black hover:border-gold transition-colors cursor-pointer flex items-center justify-center space-x-3",children:[e.jsx("i",{className:"ri-facebook-fill text-xl text-blue-600"}),e.jsx("span",{children:"Continuar com Facebook"})]}),e.jsxs("button",{onClick:()=>m("apple"),className:"w-full px-6 py-3 bg-black text-white rounded-lg font-semibold hover:bg-gray-800 transition-colors cursor-pointer flex items-center justify-center space-x-3",children:[e.jsx("i",{className:"ri-apple-fill text-xl"}),e.jsx("span",{children:"Continuar com Apple"})]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-gray-50 text-gray-600",children:"OU"})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[!s&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"NOME COMPLETO"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:d,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold",placeholder:"Seu nome"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"E-MAIL"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"SENHA"}),e.jsx("input",{type:"password",name:"password",value:a.password,onChange:d,required:!0,minLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold",placeholder:"••••••••"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mínimo 6 caracteres"})]}),l&&e.jsx("div",{className:`p-4 rounded-lg text-sm ${l.includes("sucesso")||l.includes("criada")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l}),e.jsx("button",{type:"submit",disabled:g,className:"w-full px-6 py-4 bg-gold text-black font-bold rounded-lg hover:bg-gold-dark transition-colors cursor-pointer disabled:opacity-50 whitespace-nowrap",children:g?"PROCESSANDO...":s?"ENTRAR":"CRIAR CONTA"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>{p(!s),r("")},className:"text-gold hover:text-black font-semibold cursor-pointer",children:s?"Não tem conta? Criar agora":"Já tem conta? Fazer login"})}),s&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Esqueceu a senha?"," ",e.jsx(v,{to:"/contato",className:"text-gold hover:text-black font-semibold cursor-pointer",children:"Entre em contato"})]})})]})})}),e.jsx(y,{})]})}export{I as default};
//# sourceMappingURL=page-B3lcXl46.js.map
