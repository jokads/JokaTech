{"version":3,"file":"page-DGW0V04Y.js","sources":["../../src/pages/login/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\nimport Navbar from '../../components/feature/Navbar';\nimport Footer from '../../components/feature/Footer';\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const [isLogin, setIsLogin] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    name: '',\n  });\n\n  const ADMIN_CREDENTIALS = [\n    { email: 'damasclaudio2@gmail.com', password: 'ThugParadise616#' },\n    { email: 'marianapesimoes@gmail.com', password: 'MariaSol2004#' },\n  ];\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleAdminLogin = () => {\n    const admin = ADMIN_CREDENTIALS.find(\n      (cred) => cred.email === formData.email && cred.password === formData.password\n    );\n\n    if (admin) {\n      localStorage.setItem('isAdmin', 'true');\n      localStorage.setItem('adminEmail', formData.email);\n      localStorage.setItem('userLoggedIn', 'true');\n      localStorage.setItem('userEmail', formData.email);\n      \n      window.dispatchEvent(new Event('authChange'));\n      window.dispatchEvent(new Event('storage'));\n      \n      navigate('/dashboard');\n      return true;\n    }\n    return false;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n\n    try {\n      if (isLogin) {\n        if (handleAdminLogin()) {\n          return;\n        }\n\n        // Login apenas com email e senha - SEM verificação de telefone\n        const { data, error } = await supabase.auth.signInWithPassword({\n          email: formData.email,\n          password: formData.password,\n        });\n\n        if (error) throw error;\n\n        localStorage.setItem('userLoggedIn', 'true');\n        localStorage.setItem('userEmail', formData.email);\n        \n        window.dispatchEvent(new Event('authChange'));\n        window.dispatchEvent(new Event('storage'));\n\n        setMessage('Login realizado com sucesso!');\n        setTimeout(() => navigate('/'), 1500);\n      } else {\n        // Registro apenas com email e senha - SEM telefone\n        const { data, error } = await supabase.auth.signUp({\n          email: formData.email,\n          password: formData.password,\n          options: {\n            data: {\n              name: formData.name,\n            },\n            // Desabilitar confirmação de email para facilitar\n            emailRedirectTo: `${window.location.origin}/`,\n          },\n        });\n\n        if (error) throw error;\n\n        // Login automático após registro\n        localStorage.setItem('userLoggedIn', 'true');\n        localStorage.setItem('userEmail', formData.email);\n        \n        window.dispatchEvent(new Event('authChange'));\n        window.dispatchEvent(new Event('storage'));\n\n        setMessage('Conta criada com sucesso! Redirecionando...');\n        setTimeout(() => navigate('/'), 1500);\n      }\n    } catch (error: any) {\n      setMessage(error.message || 'Erro ao processar. Tente novamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSocialLogin = async (provider: 'google' | 'facebook' | 'apple') => {\n    try {\n      const { error } = await supabase.auth.signInWithOAuth({\n        provider,\n        options: {\n          redirectTo: `${window.location.origin}/`,\n        },\n      });\n\n      if (error) throw error;\n      \n      localStorage.setItem('userLoggedIn', 'true');\n      window.dispatchEvent(new Event('authChange'));\n    } catch (error: any) {\n      setMessage(error.message || 'Erro ao fazer login social');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <Navbar />\n\n      <div className=\"pt-24 pb-20\">\n        <div className=\"max-w-md mx-auto px-6\">\n          <div className=\"bg-gray-50 rounded-lg p-8\">\n            <h1 className=\"text-4xl font-bold text-black text-center mb-8\">\n              {isLogin ? 'LOGIN' : 'CRIAR CONTA'}\n            </h1>\n\n            {/* Social Login */}\n            <div className=\"space-y-3 mb-6\">\n              <button\n                onClick={() => handleSocialLogin('google')}\n                className=\"w-full px-6 py-3 bg-white border-2 border-gray-300 rounded-lg font-semibold text-black hover:border-gold transition-colors cursor-pointer flex items-center justify-center space-x-3\"\n              >\n                <i className=\"ri-google-fill text-xl text-red-500\"></i>\n                <span>Continuar com Google</span>\n              </button>\n\n              <button\n                onClick={() => handleSocialLogin('facebook')}\n                className=\"w-full px-6 py-3 bg-white border-2 border-gray-300 rounded-lg font-semibold text-black hover:border-gold transition-colors cursor-pointer flex items-center justify-center space-x-3\"\n              >\n                <i className=\"ri-facebook-fill text-xl text-blue-600\"></i>\n                <span>Continuar com Facebook</span>\n              </button>\n\n              <button\n                onClick={() => handleSocialLogin('apple')}\n                className=\"w-full px-6 py-3 bg-black text-white rounded-lg font-semibold hover:bg-gray-800 transition-colors cursor-pointer flex items-center justify-center space-x-3\"\n              >\n                <i className=\"ri-apple-fill text-xl\"></i>\n                <span>Continuar com Apple</span>\n              </button>\n            </div>\n\n            <div className=\"relative mb-6\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t border-gray-300\"></div>\n              </div>\n              <div className=\"relative flex justify-center text-sm\">\n                <span className=\"px-4 bg-gray-50 text-gray-600\">OU</span>\n              </div>\n            </div>\n\n            {/* Email/Password Form - SEM TELEFONE */}\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {!isLogin && (\n                <div>\n                  <label className=\"block text-sm font-semibold text-black mb-2\">\n                    NOME COMPLETO\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    required\n                    className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold\"\n                    placeholder=\"Seu nome\"\n                  />\n                </div>\n              )}\n\n              <div>\n                <label className=\"block text-sm font-semibold text-black mb-2\">\n                  E-MAIL\n                </label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  required\n                  className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold\"\n                  placeholder=\"seu@email.com\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-black mb-2\">\n                  SENHA\n                </label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  value={formData.password}\n                  onChange={handleChange}\n                  required\n                  minLength={6}\n                  className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold\"\n                  placeholder=\"••••••••\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Mínimo 6 caracteres</p>\n              </div>\n\n              {message && (\n                <div\n                  className={`p-4 rounded-lg text-sm ${\n                    message.includes('sucesso') || message.includes('criada')\n                      ? 'bg-green-100 text-green-800'\n                      : 'bg-red-100 text-red-800'\n                  }`}\n                >\n                  {message}\n                </div>\n              )}\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full px-6 py-4 bg-gold text-black font-bold rounded-lg hover:bg-gold-dark transition-colors cursor-pointer disabled:opacity-50 whitespace-nowrap\"\n              >\n                {loading ? 'PROCESSANDO...' : isLogin ? 'ENTRAR' : 'CRIAR CONTA'}\n              </button>\n            </form>\n\n            <div className=\"mt-6 text-center\">\n              <button\n                onClick={() => {\n                  setIsLogin(!isLogin);\n                  setMessage('');\n                }}\n                className=\"text-gold hover:text-black font-semibold cursor-pointer\"\n              >\n                {isLogin ? 'Não tem conta? Criar agora' : 'Já tem conta? Fazer login'}\n              </button>\n            </div>\n\n            {isLogin && (\n              <div className=\"mt-4 text-center\">\n                <p className=\"text-sm text-gray-600\">\n                  Esqueceu a senha?{' '}\n                  <Link to=\"/contato\" className=\"text-gold hover:text-black font-semibold cursor-pointer\">\n                    Entre em contato\n                  </Link>\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <Footer />\n    </div>\n  );\n}"],"names":["Login","navigate","useNavigate","isLogin","setIsLogin","useState","loading","setLoading","message","setMessage","formData","setFormData","ADMIN_CREDENTIALS","handleChange","e","handleAdminLogin","cred","handleSubmit","data","error","supabase","handleSocialLogin","provider","jsxs","jsx","Navbar","Link","Footer"],"mappings":"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"}