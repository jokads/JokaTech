import{a as b,r as x,j as e,L as i}from"./index-C0IYKngZ.js";import{N as j,F as N}from"./Footer-BDjK8bl0.js";function v(){const h=b(),[r,l]=x.useState([]);x.useEffect(()=>{m()},[]);const m=()=>{try{if(typeof window<"u"&&window.localStorage){const t=localStorage.getItem("cart");if(t){const s=JSON.parse(t);Array.isArray(s)&&l(s)}}}catch(t){console.error("Error loading cart from localStorage:",t),l([])}},d=(t,s)=>{try{const a=r.map(o=>o.id===t?{...o,quantity:Math.max(1,Math.min(o.stock||999,s))}:o);l(a),typeof window<"u"&&window.localStorage&&localStorage.setItem("cart",JSON.stringify(a))}catch(a){console.error("Error updating cart quantity:",a)}},g=t=>{try{const s=r.filter(a=>a.id!==t);l(s),typeof window<"u"&&window.localStorage&&localStorage.setItem("cart",JSON.stringify(s))}catch(s){console.error("Error removing item from cart:",s)}},n=r.reduce((t,s)=>t+s.price*s.quantity,0),c=n>100?0:9.99,p=n+c,u=()=>{try{h("/checkout")}catch(t){console.error("Error navigating to checkout:",t),window.location.href="/checkout"}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(j,{}),e.jsx("div",{className:"pt-24 pb-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("h1",{className:"text-5xl font-bold text-black mb-8",children:["CARRINHO DE ",e.jsx("span",{className:"text-gold",children:"COMPRAS"})]}),r.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("i",{className:"ri-shopping-cart-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Seu carrinho está vazio"}),e.jsx(i,{to:"/produtos",className:"inline-block px-8 py-3 bg-gold text-black font-semibold rounded-lg hover:bg-gold-dark transition-colors cursor-pointer whitespace-nowrap",children:"CONTINUAR COMPRANDO"})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:r.map(t=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 flex items-center space-x-6",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-contain p-2",onError:s=>{const a=s.target;a.src="/placeholder-image.jpg"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{to:`/produto/${t.id}`,className:"text-lg font-semibold text-black hover:text-gold cursor-pointer",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.brand}),e.jsxs("p",{className:"text-xl font-bold text-black mt-2",children:["€",t.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>d(t.id,t.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-white rounded hover:bg-gray-100 cursor-pointer",disabled:t.quantity<=1,children:e.jsx("i",{className:"ri-subtract-line"})}),e.jsx("span",{className:"text-lg font-semibold text-black w-8 text-center",children:t.quantity}),e.jsx("button",{onClick:()=>d(t.id,t.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-white rounded hover:bg-gray-100 cursor-pointer",disabled:t.stock!==void 0&&t.quantity>=t.stock,children:e.jsx("i",{className:"ri-add-line"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl font-bold text-black mb-2",children:["€",(t.price*t.quantity).toFixed(2)]}),e.jsx("button",{onClick:()=>g(t.id),className:"text-red-600 hover:text-red-700 cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line text-xl"})})]})]},t.id))}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-24",children:[e.jsx("h2",{className:"text-2xl font-bold text-black mb-6",children:"RESUMO DO PEDIDO"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["€",n.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Envio"}),e.jsx("span",{className:"font-semibold",children:c===0?"GRÁTIS":`€${c.toFixed(2)}`})]}),c===0&&e.jsx("p",{className:"text-sm text-green-600",children:"✓ Envio grátis em compras acima de €100"}),e.jsxs("div",{className:"border-t pt-4 flex justify-between text-xl font-bold text-black",children:[e.jsx("span",{children:"TOTAL"}),e.jsxs("span",{children:["€",p.toFixed(2)]})]})]}),e.jsx("button",{onClick:u,className:"w-full px-6 py-4 bg-gold text-black font-bold rounded-lg hover:bg-gold-dark transition-colors cursor-pointer mb-4 whitespace-nowrap",children:"FINALIZAR COMPRA"}),e.jsx(i,{to:"/produtos",className:"block text-center text-black hover:text-gold cursor-pointer",children:"Continuar comprando"}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("p",{className:"text-sm font-semibold text-black mb-3",children:"PAGAMENTO SEGURO"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("i",{className:"ri-visa-line text-3xl text-gray-700"}),e.jsx("i",{className:"ri-mastercard-line text-3xl text-gray-700"}),e.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded text-xs font-bold text-gray-700",children:"PP"})]})]})]})})]})]})}),e.jsx(N,{})]})}export{v as default};
//# sourceMappingURL=page-BvVAsZdL.js.map
