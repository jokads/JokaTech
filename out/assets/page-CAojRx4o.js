import{r as o,j as e,L as D}from"./index-C0IYKngZ.js";import{N as E,F as R}from"./Footer-BDjK8bl0.js";import{s as O}from"./supabase-CP4O_hkS.js";function U(){const[c,w]=o.useState([]),[m,C]=o.useState([]),[k,S]=o.useState(!0),[n,f]=o.useState("Todos"),[u,b]=o.useState("Todas"),[r,j]=o.useState([0,5e3]),[x,y]=o.useState("featured"),[l,v]=o.useState(""),T=["Todos","GPU","CPU","RAM","SSD","Placa-Mãe","Fonte","Cabos","Torre","Refrigeração","Monitor","Fones de Ouvido","Microfone","Tapete de Mouse","Suporte","Adaptador","Periféricos","PC Completo"],A=["Todas","NVIDIA","AMD","Intel","Corsair","Samsung","ASUS","MSI","Logitech","G.Skill","Western Digital","Crucial","Kingston","Seagate","Gigabyte","ASRock","be quiet!","Seasonic","CableMod","LG","NZXT","Cooler Master","Thermaltake","HyperX","SteelSeries","Razer","Sony","Shure","Blue","Elgato","Rode","Audio-Technica","Anker","StarTech","CalDigit"];o.useEffect(()=>{L()},[]),o.useEffect(()=>{M()},[c,n,u,r,x,l]);const L=async()=>{try{const{data:s,error:a}=await O.from("products").select("*").order("created_at",{ascending:!1});if(a)throw a;console.log("Produtos carregados:",s),console.log("Categorias únicas:",[...new Set(s?.map(t=>t.category))]),w(s||[])}catch(s){console.error("Erro ao carregar produtos:",s)}finally{S(!1)}},M=()=>{let s=[...c];switch(n!=="Todos"&&(s=s.filter(a=>{const t=a.category.toLowerCase().trim(),i=n.toLowerCase().trim(),p={"placa-mãe":["motherboard","placa-mãe","placa mãe","placa mae","placa-mae"],fonte:["fonte","fonte de alimentação","fonte de alimentacao","power supply","psu"],cabos:["cabos","cabo","acessórios","acessorios","cables"],ssd:["armazenamento","ssd","hdd","storage","nvme"],refrigeração:["refrigeração","refrigeracao","cooler","cooling","water cooling"],torre:["torre","gabinete","case","chassis"],"fones de ouvido":["fones de ouvido","fone","fones","headset","headphone","headphones"],microfone:["microfone","mic","microphone","microfones"],"tapete de mouse":["tapete de mouse","tapete","mousepad","mouse pad","mousemat"],suporte:["suporte","stand","holder","suportes"],adaptador:["adaptador","adapter","hub","dock","adaptadores"]};if(t===i)return!0;for(const[g,h]of Object.entries(p))if(i===g&&h.some(d=>t.includes(d)||d.includes(t)))return!0;return!1})),u!=="Todas"&&(s=s.filter(a=>a.brand===u)),s=s.filter(a=>a.price>=r[0]&&a.price<=r[1]),l&&(s=s.filter(a=>a.name.toLowerCase().includes(l.toLowerCase())||a.description.toLowerCase().includes(l.toLowerCase())||a.category.toLowerCase().includes(l.toLowerCase())||a.brand.toLowerCase().includes(l.toLowerCase()))),x){case"price-asc":s.sort((a,t)=>a.price-t.price);break;case"price-desc":s.sort((a,t)=>t.price-a.price);break;case"rating":s.sort((a,t)=>t.rating-a.rating);break;default:s.sort((a,t)=>(t.featured?1:0)-(a.featured?1:0))}console.log("Produtos filtrados:",s.length,"Categoria:",n),C(s)},N=()=>{f("Todos"),b("Todas"),j([0,5e3]),v(""),y("featured")},P=s=>s==="Todos"?c.length:c.filter(a=>{const t=a.category.toLowerCase().trim(),i=s.toLowerCase().trim(),p={"placa-mãe":["motherboard","placa-mãe","placa mãe","placa mae","placa-mae"],fonte:["fonte","fonte de alimentação","fonte de alimentacao","power supply","psu"],cabos:["cabos","cabo","acessórios","acessorios","cables"],ssd:["armazenamento","ssd","hdd","storage","nvme"],refrigeração:["refrigeração","refrigeracao","cooler","cooling","water cooling"],torre:["torre","gabinete","case","chassis"],"fones de ouvido":["fones de ouvido","fone","fones","headset","headphone","headphones"],microfone:["microfone","mic","microphone","microfones"],"tapete de mouse":["tapete de mouse","tapete","mousepad","mouse pad","mousemat"],suporte:["suporte","stand","holder","suportes"],adaptador:["adaptador","adapter","hub","dock","adaptadores"]};if(t===i)return!0;for(const[g,h]of Object.entries(p))if(i===g&&h.some(d=>t.includes(d)||d.includes(t)))return!0;return!1}).length;return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(E,{}),e.jsxs("div",{className:"pt-24 pb-20",children:[e.jsx("div",{className:"bg-black py-16 animate-fade-in",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsx("h1",{className:"text-5xl font-bold text-white mb-4 animate-slide-up",children:"TODOS OS PRODUTOS"}),e.jsxs("p",{className:"text-gray-400 text-lg animate-slide-up",style:{animationDelay:"0.1s"},children:[c.length," produtos disponíveis • Mostrando ",m.length," produtos"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 mt-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"BUSCAR"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:l,onChange:s=>v(s.target.value),placeholder:"Buscar produtos...",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:border-gold text-sm"}),e.jsx("i",{className:"ri-search-line absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"CATEGORIA"}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:T.map(s=>{const a=P(s);return e.jsxs("button",{onClick:()=>f(s),className:`w-full text-left px-4 py-2 rounded-lg transition-colors cursor-pointer text-sm flex items-center justify-between ${n===s?"bg-gold text-black font-semibold":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{children:s}),e.jsxs("span",{className:`text-xs ${n===s?"text-black":"text-gray-500"}`,children:["(",a,")"]})]},s)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"MARCA"}),e.jsx("select",{value:u,onChange:s=>b(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold text-sm",children:A.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"FAIXA DE PREÇO"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"0",max:"5000",step:"100",value:r[1],onChange:s=>j([r[0],parseInt(s.target.value)]),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["€",r[0]]}),e.jsxs("span",{children:["€",r[1]]})]})]})]}),e.jsx("button",{onClick:N,className:"w-full px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors cursor-pointer whitespace-nowrap",children:"Limpar Filtros"})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("p",{className:"text-gray-600",children:["Mostrando ",e.jsx("strong",{children:m.length})," de ",e.jsx("strong",{children:c.length})," produtos"]}),e.jsxs("select",{value:x,onChange:s=>y(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold text-sm",children:[e.jsx("option",{value:"featured",children:"Destaques"}),e.jsx("option",{value:"price-asc",children:"Menor Preço"}),e.jsx("option",{value:"price-desc",children:"Maior Preço"}),e.jsx("option",{value:"rating",children:"Melhor Avaliação"})]})]}),k?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-block w-12 h-12 border-4 border-gold border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando produtos..."})]}):m.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Nenhum produto encontrado"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Tente ajustar os filtros ou fazer uma nova busca"}),e.jsx("button",{onClick:N,className:"mt-4 px-6 py-2 bg-gold text-black font-semibold rounded-lg hover:bg-gold-dark transition-colors cursor-pointer whitespace-nowrap",children:"Limpar Filtros"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6","data-product-shop":!0,children:m.map(s=>e.jsx(D,{to:`/produto/${s.id}`,className:"group cursor-pointer",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-gold/20 transition-all",children:[e.jsxs("div",{className:"relative w-full h-64 bg-white",children:[e.jsx("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-contain p-4"}),s.featured&&e.jsx("div",{className:"absolute top-2 right-2 px-3 py-1 bg-gold text-black text-xs font-bold rounded-full",children:"DESTAQUE"}),s.stock<5&&s.stock>0&&e.jsx("div",{className:"absolute top-2 left-2 px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full",children:"ÚLTIMAS UNIDADES"}),s.stock===0&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"ESGOTADO"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:s.brand}),e.jsx("h3",{className:"text-black font-semibold mb-2 group-hover:text-gold transition-colors line-clamp-2",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((a,t)=>e.jsx("i",{className:`ri-star-${t<Math.floor(s.rating)?"fill":"line"} text-gold text-sm`},t))}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.reviews_count,")"]})]}),e.jsxs("p",{className:"text-2xl font-bold text-black",children:["€",s.price.toFixed(2)]})]})]})},s.id))})]})]})})]}),e.jsx(R,{})]})}export{U as default};
//# sourceMappingURL=page-CAojRx4o.js.map
