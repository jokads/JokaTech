import{a as ee,r as l,j as e}from"./index-DQO_GGqJ.js";import{N as se,F as te}from"./Footer-Bhr4o7pb.js";import{s as v}from"./supabase-HNkb6Azd.js";function ce(){const E=ee(),[y,S]=l.useState(!1),[f,N]=l.useState(""),[A,M]=l.useState([]),[C,R]=l.useState([]),[k,O]=l.useState([]),[P,F]=l.useState([]),[T,I]=l.useState([]),[U,D]=l.useState([]),[L,G]=l.useState([]),[_,X]=l.useState([]),[r,q]=l.useState(null),[n,V]=l.useState(null),[c,$]=l.useState(null),[o,z]=l.useState(!0),[d,B]=l.useState(null),[x,H]=l.useState(null),[m,Z]=l.useState(null),[h,J]=l.useState(null),[u,K]=l.useState(null),[a,b]=l.useState({name:"",email:"",phone:"",notes:""});l.useEffect(()=>{Q()},[]);const Q=async()=>{try{const{data:s}=await v.from("products").select("id, name, price, image_url, category").in("category",["CPU","GPU","RAM","Motherboard","SSD","Torre","Fonte","Refrigeração"]);s&&(M(s.filter(t=>t.category==="CPU")),R(s.filter(t=>t.category==="GPU")),O(s.filter(t=>t.category==="RAM")),F(s.filter(t=>t.category==="Motherboard")),I(s.filter(t=>t.category==="SSD")),D(s.filter(t=>t.category==="Torre")),G(s.filter(t=>t.category==="Fonte")),X(s.filter(t=>t.category==="Refrigeração")))}catch(s){console.error("Erro ao carregar componentes:",s)}},w=()=>{let s=0;return r&&(s+=r.price),n&&(s+=n.price),c&&o&&(s+=c.price),d&&(s+=d.price),x&&(s+=x.price),m&&(s+=m.price),h&&(s+=h.price),u&&(s+=u.price),s+50},W=async s=>{s.preventDefault(),S(!0),N("");try{const{data:{user:t}}=await v.auth.getUser(),j={user_id:t?.id||null,customer_name:a.name,customer_email:a.email,customer_phone:a.phone,cpu:r?.name||null,gpu:n?.name||null,ram:c?.name||null,ram_included:o,motherboard:d?.name||null,storage:x?.name||null,case_type:m?.name||null,power_supply:h?.name||null,cooling:u?.name||null,additional_notes:a.notes,estimated_price:w(),status:"pending"},{error:g}=await v.from("custom_pc_requests").insert([j]);if(g)throw g;N("✅ Pedido enviado com sucesso! Entraremos em contato em breve."),setTimeout(()=>{E("/")},3e3)}catch(t){console.error("Erro ao enviar pedido:",t),N("❌ Erro ao enviar pedido. Tente novamente.")}finally{S(!1)}},i=({title:s,components:t,selected:j,onSelect:g,icon:Y})=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("i",{className:`${Y} text-2xl text-gold`}),e.jsx("h3",{className:"text-xl font-bold text-black",children:s})]}),t.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum componente disponível"}):e.jsx("div",{className:"grid grid-cols-1 gap-3",children:t.map(p=>e.jsx("button",{onClick:()=>g(p),className:`p-4 rounded-lg border-2 transition-all text-left cursor-pointer ${j?.id===p.id?"border-gold bg-gold/10":"border-gray-300 hover:border-gold"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-black text-sm",children:p.name}),e.jsxs("p",{className:"text-gold font-bold text-lg",children:["€",p.price.toFixed(2)]})]}),j?.id===p.id&&e.jsx("i",{className:"ri-checkbox-circle-fill text-2xl text-gold"})]})},p.id))})]});return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(se,{}),e.jsxs("div",{className:"pt-24 pb-20",children:[e.jsxs("div",{className:"relative h-96 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:"https://readdy.ai/api/search-image?query=custom%20PC%20building%20components%20laid%20out%20on%20workbench%20with%20tools%20professional%20assembly%20setup%20dark%20background%20with%20golden%20lighting%20technology%20workshop%20professional%20photography&width=1920&height=600&seq=pcbuildhero1&orientation=landscape",alt:"Montar PC",className:"w-full h-full object-cover object-top"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-black/40"})]}),e.jsx("div",{className:"relative z-10 h-full max-w-7xl mx-auto px-6 flex items-center",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4",children:["MONTE SEU ",e.jsx("span",{className:"text-gold",children:"PC PERSONALIZADO"})]}),e.jsx("p",{className:"text-white text-lg mb-6",children:"Escolha cada componente e nós montamos para você. Opção de comprar sem RAM para economizar."}),e.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"ri-tools-line text-gold text-xl"}),e.jsx("span",{children:"Montagem Profissional"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"ri-shield-check-line text-gold text-xl"}),e.jsx("span",{children:"Garantia Incluída"})]})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16",children:e.jsx("form",{onSubmit:W,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-black mb-6",children:"ESCOLHA OS COMPONENTES"}),e.jsx(i,{title:"PROCESSADOR (CPU)",components:A,selected:r,onSelect:q,icon:"ri-cpu-line"}),e.jsx(i,{title:"PLACA DE VÍDEO (GPU)",components:C,selected:n,onSelect:V,icon:"ri-device-line"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("i",{className:"ri-database-2-line text-2xl text-gold"}),e.jsx("h3",{className:"text-xl font-bold text-black",children:"MEMÓRIA RAM"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:s=>z(s.target.checked),className:"w-5 h-5 text-gold cursor-pointer"}),e.jsx("span",{className:"text-sm font-semibold text-black",children:"Incluir RAM"})]})]}),o?e.jsx("div",{className:"grid grid-cols-1 gap-3",children:k.map(s=>e.jsx("button",{type:"button",onClick:()=>$(s),className:`p-4 rounded-lg border-2 transition-all text-left cursor-pointer ${c?.id===s.id?"border-gold bg-gold/10":"border-gray-300 hover:border-gold"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-black text-sm",children:s.name}),e.jsxs("p",{className:"text-gold font-bold text-lg",children:["€",s.price.toFixed(2)]})]}),c?.id===s.id&&e.jsx("i",{className:"ri-checkbox-circle-fill text-2xl text-gold"})]})},s.id))}):e.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-400 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-800 font-semibold",children:"⚠️ RAM não incluída - Você pode comprar em outro lugar ou usar RAM que já possui"})})]}),e.jsx(i,{title:"PLACA-MÃE (MOTHERBOARD)",components:P,selected:d,onSelect:B,icon:"ri-circuit-line"}),e.jsx(i,{title:"ARMAZENAMENTO (SSD)",components:T,selected:x,onSelect:H,icon:"ri-hard-drive-2-line"}),e.jsx(i,{title:"GABINETE (TORRE)",components:U,selected:m,onSelect:Z,icon:"ri-computer-line"}),e.jsx(i,{title:"FONTE DE ALIMENTAÇÃO",components:L,selected:h,onSelect:J,icon:"ri-flashlight-line"}),e.jsx(i,{title:"REFRIGERAÇÃO",components:_,selected:u,onSelect:K,icon:"ri-temp-cold-line"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-black mb-4",children:"SUAS INFORMAÇÕES"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"NOME COMPLETO *"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>b({...a,name:s.target.value}),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold",placeholder:"Seu nome"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"E-MAIL *"}),e.jsx("input",{type:"email",value:a.email,onChange:s=>b({...a,email:s.target.value}),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"TELEFONE"}),e.jsx("input",{type:"tel",value:a.phone,onChange:s=>b({...a,phone:s.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold",placeholder:"+352 XXX XXX XXX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"OBSERVAÇÕES ADICIONAIS"}),e.jsx("textarea",{value:a.notes,onChange:s=>b({...a,notes:s.target.value}),rows:4,maxLength:500,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gold resize-none",placeholder:"Alguma preferência ou requisito especial?"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.notes.length,"/500 caracteres"]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-black rounded-lg p-6 sticky top-24",children:[e.jsx("h3",{className:"text-2xl font-bold text-gold mb-6",children:"RESUMO DO PEDIDO"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[r&&e.jsxs("div",{className:"flex justify-between text-white text-sm",children:[e.jsx("span",{children:"CPU"}),e.jsxs("span",{className:"font-bold",children:["€",r.price.toFixed(2)]})]}),n&&e.jsxs("div",{className:"flex justify-between text-white text-sm",children:[e.jsx("span",{children:"GPU"}),e.jsxs("span",{className:"font-bold",children:["€",n.price.toFixed(2)]})]}),c&&o&&e.jsxs("div",{className:"flex justify-between text-white text-sm",children:[e.jsx("span",{children:"RAM"}),e.jsxs("span",{className:"font-bold",children:["€",c.price.toFixed(2)]})]}),!o&&e.jsxs("div",{className:"flex justify-between text-yellow-400 text-sm",children:[e.jsx("span",{children:"RAM"}),e.jsx("span",{className:"font-bold",children:"NÃO INCLUÍDA"})]}),d&&e.jsxs("div",{className:"flex justify-between text-white text-sm",children:[e.jsx("span",{children:"Placa-Mãe"}),e.jsxs("span",{className:"font-bold",children:["€",d.price.toFixed(2)]})]}),x&&e.jsxs("div",{className:"flex justify-between text-white text-sm",children:[e.jsx("span",{children:"SSD"}),e.jsxs("span",{className:"font-bold",children:["€",x.price.toFixed(2)]})]}),m&&e.jsxs("div",{className:"flex justify-between text-white text-sm",children:[e.jsx("span",{children:"Gabinete"}),e.jsxs("span",{className:"font-bold",children:["€",m.price.toFixed(2)]})]}),h&&e.jsxs("div",{className:"flex justify-between text-white text-sm",children:[e.jsx("span",{children:"Fonte"}),e.jsxs("span",{className:"font-bold",children:["€",h.price.toFixed(2)]})]}),u&&e.jsxs("div",{className:"flex justify-between text-white text-sm",children:[e.jsx("span",{children:"Refrigeração"}),e.jsxs("span",{className:"font-bold",children:["€",u.price.toFixed(2)]})]}),e.jsxs("div",{className:"border-t border-gold/30 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-gold text-sm mb-2",children:[e.jsx("span",{children:"Taxa de Montagem"}),e.jsx("span",{className:"font-bold",children:"€50.00"})]}),e.jsxs("div",{className:"flex justify-between text-gold text-xl font-bold",children:[e.jsx("span",{children:"TOTAL"}),e.jsxs("span",{children:["€",w().toFixed(2)]})]})]})]}),f&&e.jsx("div",{className:`mb-4 p-4 rounded-lg text-sm ${f.includes("✅")?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:f}),e.jsx("button",{type:"submit",disabled:y||!r||!a.name||!a.email,className:"w-full px-6 py-4 bg-gold text-black font-bold rounded-lg hover:bg-white transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap flex items-center justify-center space-x-2",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"ENVIANDO..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-send-plane-fill"}),e.jsx("span",{children:"SOLICITAR ORÇAMENTO"})]})}),e.jsxs("div",{className:"mt-6 space-y-3 text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"ri-tools-line text-gold"}),e.jsx("span",{children:"Montagem profissional incluída"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"ri-test-tube-line text-gold"}),e.jsx("span",{children:"Testado antes do envio"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"ri-shield-check-line text-gold"}),e.jsx("span",{children:"Garantia de 2 anos"})]})]})]})})]})})})]}),e.jsx(te,{})]})}export{ce as default};
//# sourceMappingURL=page-DdncoQPX.js.map
